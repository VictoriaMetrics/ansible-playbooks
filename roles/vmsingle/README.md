# VM single

Installs VictoriaMetrics single binary running with systemd

## Parameters

See full list at [defaults.yml](./defaults/main.yml)

| Parameter                                 | Description                                                                                                                         | Default                                                                                                                                       |
|-------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|
| victoriametrics_repo_url                  | Repository to get binaries                                                                                                          | `https://github.com/VictoriaMetrics/VictoriaMetrics`                                                                                          |
| victoriametrics_version                   | Version to install                                                                                                                  | `v1.109.1`                                                                                                                                    |
| victoriametrics_enterprise                | Whether to use enterprise version of binaries.                                                                                      | `false`                                                                                                                                       |
| victoriametrics_license_key               | License key for VictoriaMetrics enterprise.                                                                                         | `""`                                                                                                                                          |
| victoriametrics_license_key_file          | License key file for VictoriaMetrics enterprise.                                                                                    | `""`                                                                                                                                          |
| victoriametrics_download_url              | Resulting download url.                                                                                                             | `"{{ victoriametrics_repo_url }}/releases/download/{{ victoriametrics_version }}/vmutils-{{ go_arch }}-{{ victoriametrics_version }}.tar.gz"` |
| victoriametrics_utils_download_url        | Resulting download url.                                                                                                             | `"{{ victoriametrics_repo_url }}/releases/download/{{ victoriametrics_version }}/vmutils-{{ go_arch }}-{{ victoriametrics_version }}.tar.gz"` |
| victoriametrics_system_user               | User to run service.                                                                                                                | `victoriametrics`                                                                                                                             |
| victoriametrics_system_group              | Group to run service.                                                                                                               | `{{ victoriametrics_system_user }}`                                                                                                           |
| victoriametrics_data_dir                  | Directory to store data configs.                                                                                                    | `/var/lib/victoria-metrics/`                                                                                                                  |
| victoriametrics_backup_enabled            | Enable usage of `vmbackup` to backup to S3 .                                                                                        | `false`                                                                                                                                       |
| victoriametrics_backup_destination        | S3 backups destination.                                                                                                             | `s3://`                                                                                                                                       |
| victoriametrics_backup_cron_minute        | Backups schedule cron minute.                                                                                                       | `0`                                                                                                                                           |
| victoriametrics_backup_cron_hour          | Backups schedule cron hour.                                                                                                         | `*/2`                                                                                                                                         |
| victoriametrics_backup_cron_day           | Backups schedule cron day.                                                                                                          | `*`                                                                                                                                           |
| victoriametrics_backup_cron_weekday       | Backups schedule cron weekday.                                                                                                      | `*`                                                                                                                                           |
| victoriametrics_backup_cron_month         | Backups schedule cron month.                                                                                                        | `*`                                                                                                                                           |
| victoriametrics_backup_access_key         | S3 access key.                                                                                                                      | ``                                                                                                                                            |
| victoriametrics_backup_secret_key         | S3 secret key.                                                                                                                      | ``                                                                                                                                            |
| victoriametrics_backup_custom_s3_endpoint | Custom S3 endpoint(useful for S3-compatible services).                                                                              | ``                                                                                                                                            |
| victoriametrics_service_args              | Passes options defined above to VictoriaMetrics single.                                                                             | see [defaults.yml](./defaults/main.yml)                                                                                                       |
| victoriametrics_service_envflag_enabled   | Enable usage of environment variables for configuration. Read more: [docs](https://docs.victoriametrics.com/#environment-variables) | `false`                                                                                                                                       |
| victoriametrics_service_envflag_data      | Flags data to pass to service                                                                                                       | see [defaults.yml](./defaults/main.yml)                                                                                                       |
| victoriametrics_service_envflag_file      | Location of env file to include for service.                                                                                        | see [defaults.yml](./defaults/main.yml)                                                                                                       |
